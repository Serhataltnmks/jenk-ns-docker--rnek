nano src/main/java/com/example/chess/service/GameService.java





package com.example.chess.service;

import com.example.chess.model.Board;
import com.example.chess.model.Piece;
import org.springframework.stereotype.Service;

@Service
public class GameService {

    private Board board;

    public GameService() {
        this.board = new Board();
    }

    public String processMove(String move) {
        // Örneğin, "e2e4" şeklinde bir hamleyi işle
        int fromX = move.charAt(0) - 'a';
        int fromY = move.charAt(1) - '1';
        int toX = move.charAt(2) - 'a';
        int toY = move.charAt(3) - '1';

        Piece piece = getPieceAt(fromX, fromY);
        if (piece == null) {
            return "Geçersiz hamle: Taş bulunamadı!";
        }

        boolean success = board.movePiece(piece, toX, toY);
        return success ? "Hamle başarıyla gerçekleştirildi!" : "Geçersiz hamle!";
    }

    private Piece getPieceAt(int x, int y) {
        for (Piece piece : board.getPieces()) {
            if (piece.getX() == x && piece.getY() == y) {
                return piece;
            }
        }
        return null;
    }
}
